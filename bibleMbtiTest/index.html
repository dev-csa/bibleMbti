<!DOCTYPE html>
<html>

<head>
    <title>MBTI 성경 인물 테스트</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <section id="main" class="mx-auto my-5 pt-5 pb-3 px-3">
        <h1 class="" style="font-weight: bold;">성경인물 성격 테스트</h1>
        <div class="col-lg-6 col-md-8 col-sm-10 mx-auto">
            <!-- <img src="./img/main.png" class="img-fluid" alt="mainImage"> -->
        </div>
        <p>나와 가장 닮은 성경 속 인물은 누구일까?</p>
        <div class="start">
          <span>테스트 하러가기</span>
          <span class="material-icons md-36">keyboard_arrow_down</span>
        </div>
    </section>

    <!-- 질문 form -->
        <!-- 질문들은 15개로 가정 -->
    <form id="mbti-form">
    <!-- Question 1 -->
    <section class="question_list mx-auto my-5 py-2 px-3" >
        <div id="question1" class="question" >
            <p class="qBox py-3 px-3">노아가 되어 하나님의 지시로 대홍수를 위해 방주를 만들어야 할 때 나의 행동은?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q1" value="E"> <span>방주를 만들며 다른 사람들과 함께 일하는 것을 선호한다.</span></label><br>
                <label><input type="radio" name="q1" value="I"> <span>나 혼자 조용히 일하는 것을 선호한다.</span></label><br>
                <label><input type="radio" name="q1" value="J"> <span>방주를 만드는 것을 체계적으로 계획하고 싶다.</span></label><br>
                <label><input type="radio" name="q1" value="P"> <span>방주를 만들면서 계획을 자주 변경하는 것을 선호한다.</span></label><br>
            </div>
        </div>

        <!-- Question 2 -->
        <div id="question2" class="question" style="display: none">
            <p class="qBox py-3 px-3">요셉처럼 형제들에게 팔려나갔을 때 나의 행동은?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q2" value="F"> <span>감정을 공유하며 다른 사람들에게 도움을 청한다.</span></label><br>
                <label><input type="radio" name="q2" value="T"> <span>논리적으로 문제를 해결하려고 시도한다.</span></label><br>
                <label><input type="radio" name="q2" value="N"> <span>내 상황을 바꿀 수 있는 새로운 가능성을 찾는다.</span></label><br>
                <label><input type="radio" name="q2" value="S"> <span>현재 상황에 집중하며 필요한 행동을 취한다.</span></label><br>
            </div>
        </div>
        <!-- Question 3 -->
        <div id="question3" class="question" style="display: none">
            <p class="qBox py-3 px-3">다니엘이 사자굴에 넣어질 때, 당신은 어떤 행동을 취하겠나요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q3" value="E"><span>사자와 대화를 시도해본다.</span></label><br>
                <label><input type="radio" name="q3" value="I"><span>조용히 기도하며 대처하는 법을 찾는다.</span></label><br>
                <label><input type="radio" name="q3" value="S"><span>주변 환경을 빠르게 파악하며 도망치는 길을 찾는다.</span></label><br>
                <label><input type="radio" name="q3" value="N"><span>사자가 나를 공격하지 않을 거라는 확신을 갖는다.</span></label><br>
            </div>
        </div>

        <!-- Question 4 -->
        <div id="question4" class="question" style="display: none">
            <p class="qBox py-3 px-3">당신이 모세라면, 붉은 바다를 어떻게 건널 것인가요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q4" value="T"><span>바다를 나눠서 건넌다.</span></label><br>
                <label><input type="radio" name="q4" value="F"><span>바다에 다리를 만들어 건넌다.</span></label><br>
                <label><input type="radio" name="q4" value="J"><span>바다를 둘러서 간다.</span></label><br>
                <label><input type="radio" name="q4" value="P"><span>신의 기적을 기다린다.</span></label><br>
            </div>
        </div>

        <!-- Question 5 -->
        <div id="question5" class="question" style="display: none">
            <p class="qBox py-3 px-3">솔로몬이 되어 하나님께 한 가지 소원을 빌 수 있다면, 무엇을 빌겠나요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q5" value="S"><span>부를 빈다.</span></label><br>
                <label><input type="radio" name="q5" value="N"><span>지혜를 빈다.</span></label><br>
                <label><input type="radio" name="q5" value="T"><span>힘을 빈다.</span></label><br>
                <label><input type="radio" name="q5" value="F"><span>사람들의 사랑을 빈다.</span></label><br>
            </div>
        </div>
        <!-- Question 6 -->
        <div id="question6" class="question" style="display: none">
            <p class="qBox py-3 px-3">주님의 사랑을 표현할 수 있는 가장 좋은 방법은 무엇이라고 생각하나요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q6" value="E"><span>사랑의 행동으로 표현한다.</span></label><br>
                <label><input type="radio" name="q6" value="I"><span>기도와 찬양으로 표현한다.</span></label><br>
                <label><input type="radio" name="q6" value="S"><span>남을 돕는 일을 통해 표현한다.</span></label><br>
                <label><input type="radio" name="q6" value="N"><span>말로 직접 표현한다.</span></label><br>
            </div>
        </div>

        <!-- Question 7 -->
        <div id="question7" class="question" style="display: none">
            <p class="qBox py-3 px-3">하나님께서 당신에게 임무를 부여했을 때, 어떤 반응을 보이시겠나요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q7" value="T"><span>즉시 받아들인다.</span></label><br>
                <label><input type="radio" name="q7" value="F"><span>먼저 고민하고 결정한다.</span></label><br>
                <label><input type="radio" name="q7" value="J"><span>다른 사람의 의견을 들어본다.</span></label><br>
                <label><input type="radio" name="q7" value="P"><span>하나님께서 도와주시리라는 믿음을 가지고 받아들인다.</span></label><br>
            </div>
        </div>

        <!-- Question 8 -->
        <div id="question8" class="question" style="display: none">
            <p class="qBox py-3 px-3">하나님의 말씀을 가장 잘 이해하는 방법은 무엇이라고 생각하나요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q8" value="S"><span>말씀을 통해 직접 체험한다.</span></label><br>
                <label><input type="radio" name="q8" value="N"><span>말씀을 깊이 해석한다.</span></label><br>
                <label><input type="radio" name="q8" value="T"><span>말씀을 여러 번 반복하여 듣는다.</span></label><br>
                <label><input type="radio" name="q8" value="F"><span>다른 사람과 말씀을 나눈다.</span></label><br>
            </div>
        </div>

        <!-- Question 9 -->
        <div id="question9" class="question" style="display: none">
            <p class="qBox py-3 px-3">하나님의 은혜를 받을 때, 당신은 어떤 느낌을 가질 것인가요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q9" value="E"><span>매우 기뻐한다.</span></label><br>
                <label><input type="radio" name="q9" value="I"><span>가슴이 따뜻해진다.</span></label><br>
                <label><input type="radio" name="q9" value="S"><span>평화롭게 느낀다.</span></label><br>
                <label><input type="radio" name="q9" value="N"><span>감사한 마음이 든다.</span></label><br>
            </div>
        </div>

        <!-- Question 10 -->
        <div id="question10" class="question" style="display: none">
            <p class="qBox py-3 px-3">하나님과 대화를 할 수 있다면, 어떤 주제로 이야기하고 싶나요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q10" value="T"><span>인생의 목표와 계획에 대해 이야기하고 싶다.</span></label><br>
                <label><input type="radio" name="q10" value="F"><span>내 삶의 고민과 문제에 대해 이야기하고 싶다.</span></label><br>
                <label><input type="radio" name="q10" value="J"><span>세상에 대한 하나님의 생각을 듣고 싶다.</span></label><br>
                <label><input type="radio" name="q10" value="P"><span>하나님의 사랑과 은혜에 대해 듣고 싶다.</span></label><br>
            </div>
        </div>

        <!-- Question 11 -->
        <div id="question11" class="question" style="display: none">
            <p class="qBox py-3 px-3">당신의 믿음을 키우는 데 가장 도움이 되는 것은 무엇인가요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q11" value="E"><span>다른 사람들과 믿음을 나누는 것</span></label><br>
                <label><input type="radio" name="q11" value="I"><span>혼자서 말씀을 묵상하는 것</span></label><br>
                <label><input type="radio" name="q11" value="S"><span>예배나 찬양을 하는 것</span></label><br>
                <label><input type="radio" name="q11" value="N"><span>말씀을 듣거나 공부하는 것</span></label><br>
            </div>
        </div>

        <!-- Question 12 -->
        <div id="question12" class="question" style="display: none">
            <p class="qBox py-3 px-3">당신의 믿음이 시련에 부딪혔을 때, 어떻게 대처하나요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q12" value="T"><span>확고한 믿음을 유지하며 문제를 해결한다.</span></label><br>
                <label><input type="radio" name="q12" value="F"><span>기도와 묵상을 통해 위안을 찾는다.</span></label><br>
                <label><input type="radio" name="q12" value="J"><span>다른 사람의 도움과 조언을 구한다.</span></label><br>
                <label><input type="radio" name="q12" value="P"><span>하나님에게 모든 것을 맡기며 믿음을 유지한다.</span></label><br>
            </div>
        </div>

        <!-- Question 13 -->
        <div id="question13" class="question" style="display: none">
            <p class="qBox py-3 px-3">하나님께서 당신에게 기적을 보여주었다면, 어떻게 반응하겠나요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q13" value="E"><span>매우 놀라고 감동한다.</span></label><br>
                <label><input type="radio" name="q13" value="I"><span>가슴 깊이 감사하며 찬양한다.</span></label><br>
                <label><input type="radio" name="q13" value="S"><span>하나님의 사랑을 더욱 깊이 알게 된다.</span></label><br>
                <label><input type="radio" name="q13" value="N"><span>하나님께서 나를 돌보고 계신다는 사실을 깨닫는다.</span></label><br>
            </div>
        </div>

        <!-- Question 14 -->
        <div id="question14" class="question" style="display: none">
            <p class="qBox py-3 px-3">당신의 믿음이 가장 강해지는 순간은 언제인가요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q14" value="T"><span>어려운 문제를 해결했을 때</span></label><br>
                <label><input type="radio" name="q14" value="F"><span>기도나 묵상을 할 때</span></label><br>
                <label><input type="radio" name="q14" value="J"><span>하나님의 말씀을 들었을 때</span></label><br>
                <label><input type="radio" name="q14" value="P"><span>다른 사람을 돕거나 섬길 때</span></label><br>
            </div>
        </div>

        <!-- Question 15 -->
        <div id="question15" class="question" style="display: none">
            <p class="qBox py-3 px-3">당신이 믿음을 통해 얻고 싶은 것은 무엇인가요?</p>
            <div class="answerBox py-2 px-3">
                <label><input type="radio" name="q15" value="E"><span>평화와 안식</span></label><br>
                <label><input type="radio" name="q15" value="I"><span>하나님의 사랑과 은혜</span></label><br>
                <label><input type="radio" name="q15" value="S"><span>삶의 목표와 방향</span></label><br>
                <label><input type="radio" name="q15" value="N"><span>영적인 성장과 변화</span></label><br>
            </div>
        </div>
        <!-- 결과 출력 부분 -->
        <div id="result" class="hidden"></div>
        <!-- 진행 상황 표시 -->
        <div class="btnBox">
          <!-- <button class="btn btn-primary mt-3 hidden" type="button" id="next-button" onclick="goNextQuestion()">다음 질문</button> -->
          <button class="btn btn-primary mt-3 hidden" type="submit" id="result-button" >결과 보기</button>
        </div>
        <button class="btn btn-warning mt-3 hidden" type="submit" id="reset-button" onClick="window.location.reload()">다시 하기</button>
        <div id="progress"></div>
</section>

    </form>

    <script src="mbti.js"></script>
</body>


<script>

    // MBTI 성격 유형별 성경 인물 설명
    let characterDescriptions = {
    'ISTJ': '노아는 신뢰할 수 있고, 믿음직스러운, 실제적이고 구체적인 행동으로 목표를 달성하는 사람으로 알려져 있습니다. 그는 높은 도덕적 원칙을 가지고 있었으며, 그 원칙에 따라 행동했습니다. 주님의 지시를 받아 방주를 만들고 가족을 구조한 것은 그의 책임감을 보여줍니다.',
    'ISFJ': '요셉은 사람들을 돌보고 가족과 친구를 보호하는 데 집중하는 특성을 가지고 있습니다. 그는 자신이 처한 어려운 상황에도 불구하고 가족을 챙기며 이타적인 행동을 보였습니다. 그의 믿음과 인내심은 많은 사람들에게 영감을 주었습니다.',
    'INFJ': '다니엘은 깊이 있는 통찰력과 강력한 직관으로 알려져 있습니다. 그는 고요하고 성실하며, 본인의 믿음을 중심으로 행동합니다. 그는 꿈 해몽으로 유명하며, 그의 지혜와 도덕적 용기는 많은 사람들에게 존경을 받았습니다.',
    'INTJ': '솔로몬은 독창적인 생각과 전략적인 계획으로 목표를 달성하는 사람입니다. 그는 분석적이고 논리적이며, 그의 결정은 심도 있고 통찰력 있게 만들어졌습니다. 그는 그의 지혜로 가장 잘 알려져 있으며, 그의 판단은 그의 통치를 강하게 만들었습니다.',
    'ISTP': '사무엘은 객관적인 분석으로 문제를 해결하는 데 능숙합니다. 그는 유연하고 관용적이며, 그의 믿음은 그의 행동에 반영되었습니다. 그는 신중하게 사람들의 왕을 선택하며, 그의 결정은 이스라엘의 역사를 바꾸었습니다.',
    'ISFP': '룻은 부드러운 마음과 따뜻한 관계를 중시합니다. 그녀는 유연하고 적응력이 있으며, 그녀의 행동은 그녀의 가치와 믿음을 반영합니다. 그녀의 이타적인 행동과 끈기는 많은 사람들에게 영감을 줍니다.',
    'INFP': '요나는 깊은 믿음과 이상향을 가지고 있습니다. 그는 이상적이고 직관적이며, 그의 행동은 그의 가치와 신념을 반영합니다. 그는 종종 고민하고 혼란스러워하지만, 결국에는 올바른 길을 찾습니다.',
    'INTP': '빌립은 논리적인 분석과 독창적인 아이디어로 문제를 해결합니다. 그는 독립적이고 창조적이며, 그의 생각은 그의 행동에 영향을 미칩니다. 그는 예수님의 말씀을 이해하고 설명하는 데 능숙했습니다.',
    'ESTP': '베드로는 에너지 넘치고 활동적이며 현실적인 문제를 해결하는 데 능숙합니다. 그는 적응력이 있고 유연하며, 그의 행동은 그의 믿음을 반영합니다. 그는 종종 충동적이었지만, 그의 열정과 믿음은 많은 사람들을 동기부여했습니다.',
    'ESFP': '미리암은 따뜻한 관계와 즐거움을 중시합니다. 그녀는 유연하고 적응력이 있으며, 그녀의 행동은 그녀의 가치와 믿음을 반영합니다. 그녀의 노래와 춤은 그녀의 믿음과 열정을 보여줍니다.',
    'ENFP': '바울은 열정적이고 창조적이며 본인의 가치와 믿음에 따라 행동합니다. 그는 가진 믿음을 전파하는데 능력이 있으며, 그의 열정과 헌신은 그의 사명을 이끌었습니다. 그는 많은 사람들에게 믿음의 가치를 전파하였습니다.',
    'ENTP': '압솔롬은 새로운 아이디어와 계획을 세우는 데 능숙합니다. 그는 독창적이고 논리적이며, 그의 행동은 그의 가치와 믿음을 반영합니다. 그는 종종 충동적이었지만, 그의 열정과 믿음은 그의 행동을 이끌었습니다.',
    'ESTJ': '데보라는 목표를 달성하기 위해 조직적이고 체계적인 접근 방식을 사용합니다. 그녀는 신뢰할 수 있고 결단력 있으며, 그녀의 행동은 그녀의 가치와 믿음을 반영합니다. 그녀의 리더십은 이스라엘의 승리를 이끌었습니다.',
    'ESFJ': '다윗은 사람들을 돌보고 지지하는 것을 중시합니다. 그는 친절하고 이타적이며, 그의 행동은 그의 가치와 믿음을 반영합니다. 그는 어려움에도 불구하고 강한 믿음을 유지하였습니다.',
    'ENFJ': '요한은 따뜻한 감정과 사람들에 대한 이해를 바탕으로 행동합니다. 그는 사람들을 이해하고 돌보는데 능숙하며, 그의 행동은 그의 가치와 믿음을 반영합니다. 그는 사랑에 대한 강한 메시지를 전달하였습니다.',
    'ENTJ': '모세는 목표를 달성하기 위해 논리적이고 조직적인 접근 방식을 사용합니다. 그는 결단력 있고 통찰력 있으며, 그의 행동은 그의 가치와 믿음을 반영합니다. 그는 이스라엘 사람들을 이끌고 굴레를 벗어나는 데 큰 역할을 하였습니다.'
    };

    // MBTI 성격 유형별 성경 인물 이미지 URL(이미지 삽입 필요)
    let characterImages = {
    'ISTJ': 'noah.jpeg',
    'ISFJ': 'Joseph.jpeg',
    'INFJ': 'daniel.jpeg',
    'INTJ': 'solomon.jpeg',
    'ISTP': 'samuel.jpeg',
    'ISFP': 'ruth.jpeg',
    'INFP': 'jonah.jpeg',
    'INTP': 'philip.jpeg',
    'ESTP': 'peter.jpeg',
    'ESFP': 'miriam.jpeg',
    'ENFP': 'paul.jpeg',
    'ENTP': 'absalom.jpeg',
    'ESTJ': 'deborah.jpeg',
    'ESFJ': 'david.jpeg',
    'ENFJ': 'john.jpeg',
    'ENTJ': 'moses.jpeg'
    };

    let characterName = {
    'ISTJ': '노아와',
    'ISFJ': '요셉과',
    'INFJ': '다니엘과',
    'INTJ': '솔로몬과',
    'ISTP': '사무엘과',
    'ISFP': '룻과',
    'INFP': '요나와',
    'INTP': '빌립와',
    'ESTP': '베드로와',
    'ESFP': '미리암과',
    'ENFP': '바울과',
    'ENTP': '압솔롬과',
    'ESTJ': '데보라와',
    'ESFJ': '다윗과',
    'ENFJ': '요한과',
    'ENTJ': '모세와'
    };

    let currentQuestionNumber = 1;
    let totalQuestions = 15;

    function updateProgress() {
        let progressDiv = document.getElementById('progress');
        progressDiv.textContent = `${currentQuestionNumber}/${totalQuestions}`;
        // currentQuestionNumber == totalQuestions ? progressDiv.classList.add('hidden') : 1;
    }

    const radioElmt = document.querySelectorAll('input[type=radio]'); 
    for (let item of radioElmt) {
      item.addEventListener('click', goNextQuestion);
    }

    function goNextQuestion(){
      let currentQuestion = document.querySelector('.question:not([style*="display: none"])');
      let nextQuestion = currentQuestion.nextElementSibling;
      let selectedAnswer = currentQuestion.querySelector('input[name^="q"]:checked');
      
      if (selectedAnswer === null) {
          let alertDiv = document.createElement('div');
          alertDiv.classList.add('alert', 'alert-warning','alert-show');
          alertDiv.setAttribute('role', 'alert'); 
          alertDiv.innerHTML = '답변을 선택해주세요.';
          currentQuestion.appendChild(alertDiv)
          setTimeout(() => {
              alertDiv.remove();
          }, 2000);
          return;
      }

      // let selectedAnswer = currentQuestion.querySelector('input[name^="q"]:checked');
      // if (selectedAnswer === null) {
      //     alert('답변을 선택해주세요.');
      //     return;
      // }

      currentQuestion.style.display = 'none';
      if (nextQuestion && nextQuestion.classList.contains('question')) {
          nextQuestion.style.display = 'block';
          currentQuestionNumber++;
          updateProgress();
      } else {
          // document.getElementById('next-button').classList.add("hidden");
          document.getElementById('result-button').classList.remove("hidden");
          document.getElementById('result-button').classList.add("show");
          let resultGifDiv = document.createElement('div');
          resultGifDiv.innerHTML = `<p class="pt-3"> 나와 가장 닮은 성격인물은 과연...? </p> <img class="result_img pb-4" src="resultGif.gif">`;
          let resultDiv = document.getElementById('result');
          resultDiv.append(resultGifDiv);
          resultDiv.classList.add('show');
          resultDiv.classList.remove('hidden');
      }
    }

document.getElementById('mbti-form').addEventListener('submit', function (event) {
    event.preventDefault();

    let currentQuestion = document.querySelector('.question:not([style*="display: none"])');
    let nextQuestion = currentQuestion ? currentQuestion.nextElementSibling : null;
    
    if (currentQuestion) currentQuestion.style.display = 'none';
    
    if (nextQuestion && nextQuestion.classList.contains('question')) {
        nextQuestion.style.display = 'block';
        currentQuestionNumber++;
        updateProgress();
    } else {
        let score = { E: 0, I: 0, N: 0, S: 0, T: 0, F: 0, J: 0, P: 0 };

        // 각 질문에 대한 답변을 처리
        for (let i = 1; i <= 15; i++) {
            let answer = document.querySelector(`input[name="q${i}"]:checked`).value;
            score[answer]++;
        }

        // 결과 결정
        let result = '';

        if (score['E'] >= score['I']) {
        result += 'E';
        } else {
        result += 'I';
        }

        if (score['N'] >= score['S']) {
        result += 'N';
        } else {
        result += 'S';
        }

        if (score['T'] >= score['F']) {
        result += 'T';
        } else {
        result += 'F';
        }

        if (score['J'] >= score['P']) {
        result += 'J';
        } else {
        result += 'P';
        }

        // 결과 출력
        let resultDiv = document.getElementById('result');
        resultDiv.innerHTML = `<p class="pt-3"><strong>당신은 ${characterName[result]} 가장 닮은 사람 입니다.</strong></p>` +
        `<img class="result_img" src="${characterImages[result]}" alt="${result} 성격 유형의 성경 인물">`+
        `<p class="mx-5 mt-5 pb-5">${characterDescriptions[result]}</p>`;

        //결과보기 버튼 삭제 & 다시하기 show
        let resultBtn = document.getElementById('result-button');
        let resetBtn = document.getElementById('reset-button');
        let progressElmt = document.getElementById('progress');
        resultBtn.classList.add('hidden');
        resultBtn.classList.remove('show');
        resetBtn.classList.add('show');
        resetBtn.classList.remove('hidden');
        progressElmt.classList.add('hidden');

    }
});
// 초기 진행 상황 표시
updateProgress();

let startElement = document.querySelector('.start');
let sectionElement = document.querySelector('.question_list');
// let nextBtnElement = document.getElementById('next-button');

function clickStartBtn() {
  console.log('Start area clicked!');
  sectionElement.classList.add('show');
  sectionElement.classList.remove('hidden');
  // nextBtnElement.classList.add('show');
  // nextBtnElement.classList.remove('hidden');
  startElement.classList.add('hidden');
  setTimeout(() => {
    startElement.style.display = 'none';
}, 600);
}

startElement.addEventListener('click', clickStartBtn);
window.addEventListener('scroll', clickStartBtn);

</script>
</html>